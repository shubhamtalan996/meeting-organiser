"use strict";(self.webpackChunkmeeting_organiser=self.webpackChunkmeeting_organiser||[]).push([[475],{7478:function(e,n,t){t.d(n,{Z:function(){return a}});var i=t(6015),l=t(4565),o=t(184),a=function(e){var n=e.id,t=e.label,a=e.subTexts,r=e.className,u=e.handleClick;return(0,o.jsxs)(i.Z,{component:"div",display:"flex",flexDirection:"column",className:"cardWrapper ".concat(r),onClick:u,children:[(0,o.jsx)(l.Z,{className:"label",children:t}),a&&(null===a||void 0===a?void 0:a.length)&&a.map((function(e,n){var t=e.key,i=e.label,a=e.value;return(0,o.jsx)(l.Z,{className:"value",children:"".concat(null!==i&&void 0!==i?i:"").concat(null!==a&&void 0!==a?a:"")},t||n)}))]},n)}},8989:function(e,n,t){t.d(n,{G:function(){return o},W:function(){return l}});var i=t(885),l=30,o=function(){var e=(new Date).toLocaleDateString().split("/"),n=(0,i.Z)(e,3),t=n[0],l=n[1],o=n[2],a=(new Date).toLocaleTimeString().split(":"),r=(0,i.Z)(a,2),u=r[0],d=r[1],s=new Date((new Date).getTime()+18e5).toLocaleTimeString().split(":"),c=(0,i.Z)(s,2),v=c[0],m=c[1];return{title:{label:"Title",type:"textfield",value:"Untitled Meeting",error:!1},date:{label:"Selected Date",type:"date",value:"".concat(o,"-").concat(l,"-").concat(t),error:!1},startTime:{label:"Start Time",type:"time",value:"".concat(u,":").concat(d),error:!1},endTime:{label:"End Time",type:"time",value:"".concat(v,":").concat(m),error:!1},building:{label:"Building",type:"select",value:"",error:!1}}}},6475:function(e,n,t){t.r(n),t.d(n,{default:function(){return m}});var i=t(885),l=t(2791),o=t(6015),a=t(7205),r=t(6871),u=t(8163),d=t(9857),s=t(70),c=t(7478),v=t(184),m=function(){var e=(0,l.useState)([{key:"buildings",label:"Buildings",wrapperClass:"",subTexts:[{key:"totalBuildings",label:"Total: ",value:"N/A"}]},{key:"rooms",label:"Rooms",wrapperClass:"",subTexts:[{key:"totalRooms",label:"Total: ",value:"N/A"},{key:"freeRooms",label:"Free Now: ",value:"N/A"}]},{key:"meetings",label:"Meetings",wrapperClass:"",subTexts:[{key:"totalMeetingsToday",label:"Total meeting today: ",value:"N/A"},{key:"totalMeetingsNow",label:"Total meeting goin on now: ",value:"N/A"}]}]),n=(0,i.Z)(e,2),t=n[0],m=n[1],g=(0,r.s0)(),f=(0,u.aM)(s.eP).data;return(0,l.useEffect)((function(){var e;f&&null!==f&&void 0!==f&&null!==(e=f.Buildings)&&void 0!==e&&e.length&&m((0,d.Pi)(null===f||void 0===f?void 0:f.Buildings,[{key:"buildings",label:"Buildings",wrapperClass:"",subTexts:[{key:"totalBuildings",label:"Total: ",value:"N/A"}]},{key:"rooms",label:"Rooms",wrapperClass:"",subTexts:[{key:"totalRooms",label:"Total: ",value:"N/A"},{key:"freeRooms",label:"Free Now: ",value:"N/A"}]},{key:"meetings",label:"Meetings",wrapperClass:"",subTexts:[{key:"totalMeetingsToday",label:"Total meeting today: ",value:"N/A"},{key:"totalMeetingsNow",label:"Total meeting goin on now: ",value:"N/A"}]}]))}),[f,m]),(0,v.jsxs)("div",{className:"home-page-container",children:[(0,v.jsx)("h1",{children:"Home"}),(0,v.jsxs)(o.Z,{component:"div",display:"flex",flexDirection:"column",alignItems:"center",children:[t&&(null===t||void 0===t?void 0:t.length)>0&&t.map((function(e){var n=e.label,t=e.wrapperClass,i=e.subTexts,l=e.key;return(0,v.jsx)(c.Z,{id:l,label:n,className:t,subTexts:i})})),(0,v.jsx)(a.Z,{className:"add-meeting-button",onClick:function(){g("/add-meeting")},children:"Add a meeting"})]})]})}},9857:function(e,n,t){t.d(n,{K0:function(){return c},Pi:function(){return d},yW:function(){return s}});var i=t(1413),l=t(885),o=t(8989),a=t(674),r=function(e){var n=e;return"number"!==typeof n?n=1:n++,n},u=function(e,n){var t,i,o,a=null===e||void 0===e?void 0:e.date,r=null===n||void 0===n||null===(t=n.date)||void 0===t?void 0:t.toLocaleDateString(),u=0;null!==n&&void 0!==n&&null!==(i=n.date)&&void 0!==i&&i.getTime()&&(u=Math.floor((null===n||void 0===n||null===(o=n.date)||void 0===o?void 0:o.getTime())/6e4));var d=0,s=0,c=0,v=0;if(null!==e&&void 0!==e&&e.startTime){var m=null===e||void 0===e?void 0:e.startTime.split(":"),g=(0,l.Z)(m,2),f=g[0],b=g[1];Number(f)>0&&(d=60*Number(f)*60),Number(b)>0&&(d+=60*Number(b))}if(null!==e&&void 0!==e&&e.endTime){var T=null===e||void 0===e?void 0:e.endTime.split(":"),p=(0,l.Z)(T,2),N=p[0],h=p[1];Number(N)>0&&(s=60*Number(N)*60),Number(h)>0&&(s+=60*Number(h))}return u&&null!==n&&void 0!==n&&n.startTime&&(c=u+(null===n||void 0===n?void 0:n.startTime)),u&&null!==n&&void 0!==n&&n.endTime&&(v=u+(null===n||void 0===n?void 0:n.endTime)),a===r&&(c>d&&c<s||v>d&&v<s)},d=function(e,n){var t={},l=[];if(e&&null!==e&&void 0!==e&&e.length){var o=0,d=0,s=0,c=0,v=0,m=new Date;try{e.forEach((function(e){var n=e.meetingRooms;o=r(o),n&&null!==n&&void 0!==n&&n.length&&n.forEach((function(e){var n=e.meetings;d=r(d);var t=!0;null!==n&&void 0!==n&&n.length&&n.forEach((function(e){e.date===m.toLocaleDateString()&&(c=r(c)),u(e,{date:m,startTime:(0,a.fx)(null===m||void 0===m?void 0:m.toLocaleTimeString()),endTime:(0,a.fx)(null===m||void 0===m?void 0:m.toLocaleTimeString())})&&(t=!1)})),t?s=r(s):v=r(v)}))})),t={totalBuildings:o,totalRooms:d,freeRooms:s,totalMeetingsToday:c,totalMeetingsNow:v},n&&null!==n&&void 0!==n&&n.length&&n.forEach((function(e){var n,o=[];null!==e&&void 0!==e&&null!==(n=e.subTexts)&&void 0!==n&&n.length&&(o=function(e,n){var t=[];return e&&null!==e&&void 0!==e&&e.length&&e.forEach((function(e){var l,o=(0,i.Z)({},e),a=null===e||void 0===e?void 0:e.key;n&&n[a]&&(o.value=null===(l=n[a])||void 0===l?void 0:l.toString()),t.push(o)})),t}(null===e||void 0===e?void 0:e.subTexts,t)),null===l||void 0===l||l.push((0,i.Z)((0,i.Z)({},e),{},{subTexts:o}))}))}catch(g){console.error(g)}}return l},s=function(e,n){var t=[],i=e.meetingRooms;return i&&null!==i&&void 0!==i&&i.length&&i.forEach((function(e){var i=e.meetings,l=!0;i&&null!==i&&void 0!==i&&i.length&&i.forEach((function(e){var t,i,o,r=(0,a.S$)(null===n||void 0===n||null===(t=n.date)||void 0===t?void 0:t.value),d=(0,a.fx)(null===n||void 0===n||null===(i=n.startTime)||void 0===i?void 0:i.value),s=(0,a.fx)(null===n||void 0===n||null===(o=n.endTime)||void 0===o?void 0:o.value);r&&d&&s&&(u(e,{date:r,startTime:d,endTime:s})&&(l=!1))})),l&&t.push(e)})),t},c=function(e,n,t){var i=!0;if(null===n||void 0===n||!n.value)return i=!1;switch(e){case"date":var a=null===n||void 0===n?void 0:n.value.toString().split("-"),r=(0,l.Z)(a,3),u=r[0],d=r[1],s=r[2],c=(new Date).toLocaleDateString().split("/"),v=(0,l.Z)(c,3),m=v[0],g=v[1],f=v[2];+new Date("".concat(d,"/").concat(s,"/").concat(u))<+new Date("".concat(g,"/").concat(m,"/").concat(f))&&(i=!1);break;case"startTime":var b=null===n||void 0===n?void 0:n.value.toString().split(":"),T=(0,l.Z)(b,2),p=T[0],N=T[1],h=(new Date).toLocaleTimeString().split(":"),y=(0,l.Z)(h,2),x=y[0],w=y[1];60*Number(x)+Number(w)>60*Number(p)+Number(N)&&(i=!1);break;case"endTime":var S,k,Z=null===n||void 0===n?void 0:n.value.toString().split(":"),D=(0,l.Z)(Z,2),M=D[0],R=D[1],$=(null===t||void 0===t||null===(S=t.startTime)||void 0===S||null===(k=S.value)||void 0===k?void 0:k.toString().split(":"))||[],A=(0,l.Z)($,2),C=A[0],B=A[1],L=(new Date).toLocaleTimeString().split(":"),E=(0,l.Z)(L,2),j=E[0],I=E[1],P=60*Number(j)+Number(I),W=60*Number(C)+Number(B),q=60*Number(M)+Number(R);(P>q||W+o.W>q)&&(i=!1)}return i}},70:function(e,n,t){t.d(n,{VD:function(){return l},eP:function(){return o},pg:function(){return i}});var i="mutation AddMeeting($id: Int!,$title: String!\n  $date: String!,\n  $startTime: String!,\n  $endTime: String!,\n  $meetingRoomId:Int!) {\n  Meeting(id: $id, title: $title,startTime: $startTime,endTime: $endTime,date: $date, meetingRoomId: $meetingRoomId) {\n    id\n    title\n    startTime\n    endTime\n    date\n\n  }\n}",l="\nquery Meeting\n{\n  Meetings\n  {\n    title\n    date\n    startTime\n    endTime\n  }\n}",o="query Building {\n  Buildings {\n    name\n    id\n    meetingRooms {\n      id\n      name\n      floor\n      building {\n        id\n        name\n      }\n      meetings {\n        title\n        date\n        startTime\n        endTime\n      }\n    }\n  }\n}"},674:function(e,n,t){t.d(n,{RP:function(){return r},S$:function(){return o},fx:function(){return l},xS:function(){return a}});var i=t(885),l=function(e){if(e){var n=null===e||void 0===e?void 0:e.toString().split(":"),t=(0,i.Z)(n,2),l=t[0],o=t[1];return 60*Number(l)+Number(o)}return 0},o=function(e){if(e){var n=null===e||void 0===e?void 0:e.toString().split("-"),t=(0,i.Z)(n,3),l=t[0],o=t[1],a=t[2];return new Date("".concat(o,"/").concat(a,"/").concat(l))}},a=function(e){if(e){var n=null===e||void 0===e?void 0:e.toString().split("/"),t=(0,i.Z)(n,3),l=t[0],o=t[1],a=t[2];return new Date("".concat(o,"/").concat(l,"/").concat(a))}},r=function(e){if(e){var n=null===e||void 0===e?void 0:e.toString().split("-"),t=(0,i.Z)(n,3),l=t[0],o=t[1],a=t[2];return"".concat(a,"/").concat(o,"/").concat(l)}}}}]);
//# sourceMappingURL=475.994869e2.chunk.js.map